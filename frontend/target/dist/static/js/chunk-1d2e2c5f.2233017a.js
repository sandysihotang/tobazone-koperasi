(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d2e2c5f"],{"07ac":function(t,a,e){var n=e("23e7"),i=e("6f53").values;n({target:"Object",stat:!0},{values:function(t){return i(t)}})},"48d4":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"q-pa-md"},[e("q-card",{staticClass:"full-width"},[e("q-card-section",[t._v("Identitas Pengaju")]),e("q-card-section",[e("q-table",{attrs:{dense:t.$q.screen.lt.md,data:t.data,columns:t.columns,"row-key":"name"}})],1),e("q-card-section",[e("q-table",{attrs:{dense:t.$q.screen.lt.md,data:t.dataAjuan,columns:t.columnsAjuan,"row-key":"name"}})],1)],1)],1)},i=[],s=(e("99af"),e("07ac"),e("e25e"),e("c1df")),c=e.n(s),o={props:["user"],data:function(){var t=this;return{columns:[],data:[],dataAjuan:[],columnsAjuan:[{name:"termin",label:"Termin Ke #",align:"center",field:function(t){return t.urutan_ke},sortable:!0},{name:"status",label:"Status",align:"center",field:function(t){return t.status_bayar?"Sudah Dibayar":"Belum Dibayar"},sortable:!0},{name:"angsuranPokok",label:"Angsuran Pokok",align:"center",field:function(a){return t.toIDR(parseInt(a.angsuran_pokok))},sortable:!0},{name:"bunga",label:"Bunga",align:"center",field:function(a){return t.toIDR(parseInt(a.bunga))},sortable:!0},{name:"totalAngsuran",label:"Total Angsuran",align:"center",field:function(a){return t.toIDR(parseInt(a.total_angsuran))},sortable:!0},{name:"tglJatuhTempo",label:"Tanggal Jatuh Tempo",align:"center",field:function(t){return c.a.lang("id"),c()(t.tanggal_jatuh_tempo).format("dddd, Do MMMM YYYY")},sortable:!0},{name:"denda",label:"Denda",align:"center",field:function(a){return t.toIDR(parseInt(null===a.denda?0:a.denda))},sortable:!0},{name:"totalTagihan",label:"Total Tagihan",align:"center",field:function(a){return t.toIDR(parseInt(null===a.total_tagihan?0:a.total_tagihan))},sortable:!0},{name:"totalBayar",label:"Total Bayar",align:"center",field:function(a){return t.toIDR(parseInt(null===a.total_bayar?0:a.total_bayar))},sortable:!0}]}},methods:{toIDR:function(t){for(var a="".concat(t),e="",n=0,i=a.length-1;i>=0;i--)e="".concat(e).concat(a[i]),2===n&&0!==i?(e="".concat(e,","),n=0):n++;for(var s="Rp ",c=e.length-1;c>=0;c--)s="".concat(s).concat(e[c]);return s},loadColumn:function(){var t=this;this.$q.loading.show(),this.$http.get("/api/getcolumnmember/".concat(this.user.id),{headers:this.$auth.getHeader()}).then((function(a){for(var e=a.data,n=0;n<e.length;n++)t.columns.push({name:e[n].cid,label:e[n].label,align:"center",field:e[n].cid,sortable:!0});t.loadData()})).catch((function(a){t.$q.loading.hide()}))},loadData:function(){var t=this;this.$http.get("/api/getdatamember/".concat(this.user.id),{headers:this.$auth.getHeader()}).then((function(a){for(var e=a.data,n=0;n<e.length;n++){for(var i='{"id" : '.concat(e[n].id,","),s=JSON.parse(e[n].data),c=0;c<s.length;c++)if(i="".concat(i,' "').concat(s[c].uid,'":'),s[c].value instanceof Object)for(var o=Object.values(s[c].value),r=0;r<o.length;r++)i=r===o.length-1?c===s.length-1?"".concat(i," ").concat(o[r],'"'):"".concat(i," ").concat(o[r],'",'):0===r?"".concat(i,' "').concat(o[r]):"".concat(i," ").concat(o[r]);else i=c===s.length-1?"".concat(i,' "').concat(s[c].value,'"'):"".concat(i,' "').concat(s[c].value,'",');i="".concat(i," }");var l=JSON.parse(i);t.data.push(l)}t.loaddataAjuan()})).catch((function(){t.$q.loading.hide()}))},loaddataAjuan:function(){var t=this;this.$http.get("/api/getdataajuan/".concat(this.user.id),{headers:this.$auth.getHeader()}).then((function(a){t.dataAjuan=a.data,t.$q.loading.hide()})).catch((function(){t.$q.loading.hide()}))}},created:function(){this.loadColumn()}},r=o,l=e("2877"),u=Object(l["a"])(r,n,i,!1,null,"ed127544",null);a["a"]=u.exports},"6f53":function(t,a,e){var n=e("83ab"),i=e("df75"),s=e("fc6a"),c=e("d1e7").f,o=function(t){return function(a){var e,o=s(a),r=i(o),l=r.length,u=0,d=[];while(l>u)e=r[u++],n&&!c.call(o,e)||d.push(t?[e,o[e]]:o[e]);return d}};t.exports={entries:o(!0),values:o(!1)}},9697:function(t,a,e){"use strict";var n=e("b635"),i=e.n(n);i.a},b635:function(t,a,e){},eccb:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"q-pa-md"},[t.adaAturanExist?e("div",[e("q-table",{attrs:{dense:t.$q.screen.lt.md,title:"Daftar Pengajuan Pinjaman",data:t.data,columns:t.columns,"row-key":"id",selection:"single",selected:t.selected,filter:t.filter},on:{"update:selected":function(a){t.selected=a}},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("q-btn",{attrs:{size:"xs",color:"green",label:"Cetak Pengajuan",icon:"print"},on:{click:t.cetakPengajuan}})],1),e("div",{staticClass:"col"},[e("q-btn",{attrs:{size:"xs",color:"green",label:"Pengajuan Baru",icon:"edit"},on:{click:function(a){t.pengajuanBaru=!0}}})],1),e("div",{staticClass:"col"},[e("q-btn",{attrs:{size:"xs",color:"green",label:"Tabel Angsuran",icon:"table"},on:{click:t.tabelAngsuran}})],1),e("div",{staticClass:"col"},[e("q-btn",{attrs:{size:"xs",color:"green",label:"Persetujuan",disable:t.getDis(),icon:"check"},on:{click:t.persetujuan}})],1),e("div",{staticClass:"col"},[e("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Cari"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(a){t.filter=a},expression:"filter"}})],1)])]},proxy:!0}])}),e("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.persetujuanView,callback:function(a){t.persetujuanView=a},expression:"persetujuanView"}},[e("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[e("persetujuan-form",{ref:"saveFunction",attrs:{user:t.selected[0]}}),e("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Tutup"}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Simpan"},on:{click:t.save}})],1)],1)],1),e("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.tableAngsuran,callback:function(a){t.tableAngsuran=a},expression:"tableAngsuran"}},[e("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[e("table-angsuran",{attrs:{user:t.selected[0]}}),e("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Tutup"}})],1)],1)],1),e("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.pengajuanBaru,callback:function(a){t.pengajuanBaru=a},expression:"pengajuanBaru"}},[e("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[e("pengajuan-baru",{on:{get:t.getDataPinjaman}}),e("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Tutup"}})],1)],1)],1)],1):e("div",[e("q-card",{staticClass:"my-card text-white",staticStyle:{height:"100%",width:"100%",background:"radial-gradient(circle, #35a2ff 0%, #014a88 100%)"}},[e("q-card-section",[e("div",{staticClass:"text-h6",attrs:{align:"center"}},[t._v("Warning")])]),e("q-card-section",[e("div",{staticClass:"row"},[e("div",{staticClass:"col"}),e("div",{staticClass:"col"},[e("q-icon",{staticClass:"text-red",staticStyle:{"font-size":"5rem"},attrs:{name:"warning"}})],1),e("div",{staticClass:"col"})])]),e("q-card-section",{staticClass:"q-pt-none"},[e("div",{attrs:{align:"justify"}},[t._v(" Silahkan isi pengaturan pinjaman ")])])],1)],1)])},i=[],s=(e("99af"),e("d3b7"),e("07ac"),e("e25e"),e("3ca3"),e("ddb0"),e("2b3d"),e("c1df")),c=e.n(s),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"q-pa-md"},[e("q-card",{staticClass:"full-width"},[e("q-card-section",[t._v("Idenitas Pengaju")]),e("q-card-section",[e("q-table",{attrs:{dense:t.$q.screen.lt.md,data:t.data,columns:t.columns,"row-key":"name"}})],1)],1),e("q-card",{staticClass:"full-width"},[e("q-card-section",[e("q-input",{attrs:{filled:"",label:"Total pinjaman",mask:"Rp #,###,###,###.##","fill-mask":"0","reverse-fill-mask":"","unmasked-value":"","input-class":"text-right"},model:{value:t.price,callback:function(a){t.price=a},expression:"price"}}),e("q-input",{attrs:{filled:"",label:"Tenor (Bulan)",mask:"## Bln","fill-mask":"0","reverse-fill-mask":"","unmasked-value":"","input-class":"text-right"},model:{value:t.tenor,callback:function(a){t.tenor=a},expression:"tenor"}}),e("q-input",{attrs:{filled:"",label:"Jaminan","input-class":"text-right"},model:{value:t.jaminan,callback:function(a){t.jaminan=a},expression:"jaminan"}}),e("q-select",{attrs:{filled:"",options:t.options,"stack-label":""},model:{value:t.model,callback:function(a){t.model=a},expression:"model"}})],1),e("q-card-section",[e("q-list",{attrs:{bordered:"",separator:""}},[e("q-item",[e("q-item-section",[t._v("Angsuran Pokok")]),e("q-item-section",[t._v(":")]),e("q-item-section",[t._v(t._s(t.toIDR(parseInt(t.price/100/t.tenor))))])],1),e("q-item",[e("q-item-section",[t._v("Bunga(%)")]),e("q-item-section",[t._v(":")]),e("q-item-section",[t._v(t._s(t.persentase)+" %")])],1),e("q-item",[e("q-item-section",[t._v("Bunga Angsuran")]),e("q-item-section",[t._v(":")]),e("q-item-section",[t._v(t._s(t.toIDR(parseInt(t.price/100*t.persentase/100))))])],1),e("q-item",[e("q-item-section",[t._v("Total Angsuran")]),e("q-item-section",[t._v(":")]),e("q-item-section",[t._v(t._s(t.toIDR(parseInt(t.price/100/t.tenor+t.price/100*t.persentase/100)))+" ")])],1),e("q-item",[e("q-item-section",[t._v("Total Bunga/Jasa")]),e("q-item-section",[t._v(":")]),e("q-item-section",[t._v(t._s(t.toIDR(parseInt(t.price/100*t.persentase/100*t.tenor)))+" ")])],1),e("q-item",[e("q-item-section",[t._v("Total Pinjaman")]),e("q-item-section",[t._v(":")]),e("q-item-section",[t._v(t._s(t.toIDR(parseInt(t.price/100+t.price/100*t.persentase/100*t.tenor)))+" ")])],1)],1)],1)],1)],1)},r=[],l=(e("4ec9"),{props:["user"],data:function(){return{jaminan:null,columns:[],data:[],price:null,tenor:null,persentase:null,model:"",options:["Dibatalkan","Disetujui","Ditolak","Sedang Ditinjau","Menunggu Persetujuan"]}},methods:{toIDR:function(t){for(var a="".concat(t),e="",n=0,i=a.length-1;i>=0;i--)e="".concat(e).concat(a[i]),2===n&&0!==i?(e="".concat(e,","),n=0):n++;for(var s="Rp ",c=e.length-1;c>=0;c--)s="".concat(s).concat(e[c]);return s},reload:function(){this.price=100*this.user.jumlah_pinjaman,this.tenor=this.user.tenor,this.jaminan=this.user.jaminan,this.persentase=this.user.bunga_pinjaman},loadColumn:function(){var t=this;this.$q.loading.show(),this.$http.get("/api/getcolumnmember/".concat(this.user.id),{headers:this.$auth.getHeader()}).then((function(a){for(var e=a.data,n=0;n<e.length;n++)t.columns.push({name:e[n].cid,label:e[n].label,align:"center",field:e[n].cid,sortable:!0});t.loadData()})).catch((function(a){t.$q.loading.hide()}))},call:function(){var t=this;this.$q.loading.show();var a=new Map;a.set("Menunggu Persetujuan",5),a.set("Sedang Ditinjau",4),a.set("Ditolak",3),a.set("Disetujui",2),a.set("Cancel",1),this.$http.put("/api/savepinjamanfrompengurus/".concat(this.user.id),{price:this.price,tenor:this.tenor,jaminan:this.jaminan,status:a.get(this.model)},{headers:this.$auth.getHeader()}).then((function(a){t.$q.notify({type:"positive",message:"Berhasil menyimpan data pemohon"})})).catch((function(){t.$q.loading.hide()}))},loadData:function(){var t=this;this.$http.get("/api/getdatamember/".concat(this.user.id),{headers:this.$auth.getHeader()}).then((function(a){for(var e=a.data,n=0;n<e.length;n++){for(var i='{"id" : '.concat(e[n].id,","),s=JSON.parse(e[n].data),c=0;c<s.length;c++)if(i="".concat(i,' "').concat(s[c].uid,'":'),s[c].value instanceof Object)for(var o=Object.values(s[c].value),r=0;r<o.length;r++)i=r===o.length-1?c===s.length-1?"".concat(i," ").concat(o[r],'"'):"".concat(i," ").concat(o[r],'",'):0===r?"".concat(i,' "').concat(o[r]):"".concat(i," ").concat(o[r]);else i=c===s.length-1?"".concat(i,' "').concat(s[c].value,'"'):"".concat(i,' "').concat(s[c].value,'",');i="".concat(i," }");var l=JSON.parse(i);t.data.push(l)}t.$q.loading.hide()})).catch((function(){t.$q.loading.hide()}))}},created:function(){this.reload(),this.model=this.options[this.user.status-1],this.loadColumn()}}),u=l,d=e("2877"),h=Object(d["a"])(u,o,r,!1,null,"071ae26a",null),p=h.exports,m=e("48d4"),g=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"q-pa-md"},[e("q-card",[e("div",{staticClass:"q-pa-md full-width"},[e("div",{staticClass:"q-gutter-md"},[e("q-input",{attrs:{square:"",clearable:"",filled:"",label:"Nama Pemohon"},on:{input:t.showNama},model:{value:t.nama,callback:function(a){t.nama=a},expression:"nama"}}),e("q-input",{attrs:{filled:"",label:"Total pinjaman",mask:"Rp #,###,###,###.##","fill-mask":"0","reverse-fill-mask":"","unmasked-value":"","input-class":"text-right"},model:{value:t.price,callback:function(a){t.price=a},expression:"price"}}),e("q-input",{attrs:{filled:"",label:"Jaminan","input-class":"text-right"},model:{value:t.jaminan,callback:function(a){t.jaminan=a},expression:"jaminan"}}),e("q-input",{attrs:{filled:"",label:"Tenor (Bulan)",mask:"## Bln",hint:"Min Tenor:"+t.aturan.min_tenor+" Bulan, Max Tenor:"+t.aturan.max_tenor+" Bulan","fill-mask":"0","reverse-fill-mask":"","unmasked-value":"","input-class":"text-right"},on:{input:t.handle},model:{value:t.tenor,callback:function(a){t.tenor=a},expression:"tenor"}})],1)])]),e("q-space"),t.showHandle?e("q-card",[e("q-list",{attrs:{bordered:"",separator:""}},[e("q-item",[e("q-item-section",[t._v("Angsuran Pokok")]),e("q-item-section",[t._v(":")]),e("q-item-section",[t._v(t._s(t.toIDR(parseInt(t.price/100/t.tenor))))])],1),e("q-item",[e("q-item-section",[t._v("Bunga(%)")]),e("q-item-section",[t._v(":")]),e("q-item-section",[t._v(t._s(t.persentase)+" %")])],1),e("q-item",[e("q-item-section",[t._v("Bunga Angsuran")]),e("q-item-section",[t._v(":")]),e("q-item-section",[t._v(t._s(t.toIDR(parseInt(t.price/100*t.persentase/100))))])],1),e("q-item",[e("q-item-section",[t._v("Total Angsuran")]),e("q-item-section",[t._v(":")]),e("q-item-section",[t._v(t._s(t.toIDR(parseInt(t.price/100/t.tenor+t.price/100*t.persentase/100)))+" ")])],1),e("q-item",[e("q-item-section",[t._v("Total Bunga/Jasa")]),e("q-item-section",[t._v(":")]),e("q-item-section",[t._v(t._s(t.toIDR(parseInt(t.price/100*t.persentase/100*t.tenor)))+" ")])],1),e("q-item",[e("q-item-section",[t._v("Total Pinjaman")]),e("q-item-section",[t._v(":")]),e("q-item-section",[t._v(t._s(t.toIDR(parseInt(t.price/100+t.price/100*t.persentase/100*t.tenor)))+" ")])],1),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"full-width",attrs:{color:"primary"},on:{click:t.ajukanPinjaman}},[t._v("Ajukan Pinjaman")])],1)],1):t._e(),e("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.namaPengaju,callback:function(a){t.namaPengaju=a},expression:"namaPengaju"}},[e("q-card",[e("q-card-section",[e("q-table",{attrs:{dense:t.$q.screen.lt.md,title:"Daftar Nama Anggota",data:t.data,columns:t.columns,"row-key":"id",selection:"single",selected:t.selected,filter:t.filter},on:{"update:selected":function(a){t.selected=a}},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Cari"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(a){t.filter=a},expression:"filter"}})]},proxy:!0}])})],1),e("q-card-section",[e("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Tutup"},on:{click:t.deleteName}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Pilih",disable:0===t.selected.length},on:{click:t.setNama}})],1)],1)],1)],1)],1)},f=[],v=(e("b0c0"),{data:function(){return{aturan:[],showHandle:!1,price:0,jaminan:null,tenor:0,nama:null,namaPengaju:!1,data:[],columns:[],selected:[],filter:"",persentase:null,id:null}},methods:{setNama:function(){this.nama="".concat(this.selected[0][this.columns[0].name])},deleteName:function(){this.nama=null},showNama:function(){this.namaPengaju=!0,this.loadData()},loadData:function(){var t=this;this.$q.loading.show(),this.$http.get("/api/getdatapengajureqpinjaman",{headers:this.$auth.getHeader()}).then((function(a){var e=a.data,n=JSON.parse(e.pengaturan);t.columns=[];for(var i=0;i<n.length;i++)t.columns.push({name:n[i].cid,label:n[i].label,align:"center",field:n[i].cid,sortable:!0});t.data=[];for(var s=e.anggota,c=0;c<s.length;c++){for(var o='{"id" : '.concat(s[c].id,","),r=JSON.parse(s[c].data),l=0;l<r.length;l++)if(o="".concat(o,' "').concat(r[l].uid,'":'),r[l].value instanceof Object)for(var u=Object.values(r[l].value),d=0;d<u.length;d++)o=d===u.length-1?l===r.length-1?"".concat(o," ").concat(u[d],'"'):"".concat(o," ").concat(u[d],'",'):0===d?"".concat(o,' "').concat(u[d]):"".concat(o," ").concat(u[d]);else o=l===r.length-1?"".concat(o,' "').concat(r[l].value,'"'):"".concat(o,' "').concat(r[l].value,'",');o="".concat(o," }");var h=JSON.parse(o);t.data.push(h)}t.$q.loading.hide()})).catch((function(){t.$q.loading.hide()}))},handle:function(t){this.showHandle=0!==t.length},toIDR:function(t){for(var a="".concat(t),e="",n=0,i=a.length-1;i>=0;i--)e="".concat(e).concat(a[i]),2===n&&0!==i?(e="".concat(e,","),n=0):n++;for(var s="Rp ",c=e.length-1;c>=0;c--)s="".concat(s).concat(e[c]);return s},ajukanPinjaman:function(){var t=this;this.tenor<this.aturan.min_tenor?this.$q.notify({type:"negative",message:"Tenor yang anda pilih tidak boleh kurang dari ".concat(this.aturan.min_tenor)}):this.tenor>this.aturan.max_tenor?this.$q.notify({type:"negative",message:"Tenor yang anda pilih tidak boleh lebih dari ".concat(this.aturan.max_tenor)}):0!==parseInt(this.price)&&0!==parseInt(this.tenor)&&0!==this.jaminan.length?(this.$q.loading.show(),this.$http.post("/api/requestpeminjamanfrompengurus/".concat(this.selected[0].id),{id:this.id,jaminan:this.jaminan,tenor:this.tenor,price:this.price},{headers:this.$auth.getHeader()}).then((function(a){400===a.data.errCode?(t.$q.notify({type:"negative",message:a.data.err}),t.$q.loading.hide()):(t.showHandle=!1,t.price=0,t.tenor=0,t.jaminan=null,t.$emit("get"),t.$q.notify({type:"positive",message:"Berhasil membuat peminjaman"}))})).catch((function(){t.$q.loading.hide()}))):this.$q.notify({type:"negative",message:"Isi Semua Field"})},getSettings:function(){var t=this;this.$http.get("/api/getpengaturanpinjamanreqpinjamaninpengurus",{headers:this.$auth.getHeader()}).then((function(a){t.aturan=a.data,t.persentase=a.data.bunga_pinjaman,t.id=a.data.id,t.$q.loading.hide()})).catch((function(){t.$q.loading.hide(),t.$swal({position:"center",type:"error",title:"Terjadi Kesalhan, refresh (F5)",showConfirmButton:!1,timer:1500})}))}},created:function(){this.getSettings()}}),b=v,q=Object(d["a"])(b,g,f,!1,null,"c46f8a62",null),j=q.exports,w={components:{persetujuanForm:p,tableAngsuran:m["a"],PengajuanBaru:j},data:function(){var t=this;return{adaAturanExist:!1,tableAngsuran:!1,pengajuanBaru:!1,status:["Dibatalkan","Disetujui","Ditolak","Sedang Ditinjau","Menunggu Persetujuan","Pinjaman Selesai"],selected:[],data:[],columns:[{name:"status",label:"Status",align:"center",field:function(a){return t.status[a.status-1]},sortable:!0},{name:"noPinjaman",label:"No Pinjaman",align:"center",field:function(t){return t.kode_pinjaman},sortable:!0},{name:"debitur",label:"Debitur",align:"center",field:function(t){return t.debitur},sortable:!0},{name:"jumlahPinjaman",label:"Jumlah Pinjaman",align:"center",field:function(a){return t.toIDR(parseInt(a.jumlah_pinjaman))},sortable:!0},{name:"jaminan",label:"Jaminan",align:"center",field:function(t){return t.jaminan},sortable:!0},{name:"tanggalPengajuan",label:"Tanggal Pengajuan",align:"center",field:function(t){return c.a.lang("id"),c()(t.created_at).format("dddd, Do MMMM YYYY")},sortable:!0},{name:"termin",label:"Termin (Bulan)",align:"center",field:function(t){return"".concat(t.tenor," bulan")},sortable:!0}],filter:"",persetujuanView:!1}},methods:{getDis:function(){return!(this.selected.length>0)||(2===this.selected[0].status||6===this.selected[0].status)},cetakPengajuan:function(){var t=this;this.ck()?(this.$q.loading.show(),this.$http.get("/api/getdatapengajupdf/".concat(this.selected[0].id),{headers:this.$auth.getHeader(),responseType:"arraybuffer"}).then((function(a){t.downloadFile(a,"pengajuan"),t.$q.loading.hide()})).catch((function(){t.$q.loading.hide()}))):this.$swal({position:"center",type:"error",title:"Pilih item terlebih dahulu",showConfirmButton:!1,timer:1500})},downloadFile:function(t,a){var e=new Blob([t.data],{type:"application/pdf"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(e);else{var n=window.URL.createObjectURL(e),i=document.createElement("a");i.href=n,i.download="".concat(a,".pdf"),i.click(),setTimeout((function(){window.URL.revokeObjectURL(n)}),100),this.$swal({position:"center",type:"success",width:300,title:"Berhasil Mengexport Data",showConfirmButton:!1,timer:1500})}},save:function(){this.$refs.saveFunction.call(),this.getDataPinjaman()},tabelAngsuran:function(){this.ck()?this.tableAngsuran=!0:this.$swal({position:"center",type:"error",title:"Pilih item terlebih dahulu",showConfirmButton:!1,timer:1500})},persetujuan:function(){this.ck()?this.persetujuanView=!0:this.$swal({position:"center",type:"error",title:"Pilih item terlebih dahulu",showConfirmButton:!1,timer:1500})},ck:function(){return this.selected.length>0},getDataPinjaman:function(){var t=this;this.$http.get("/api/getdatapengajuanpinjaman",{headers:this.$auth.getHeader()}).then((function(a){for(var e=a.data,n=JSON.parse(e.aturan.pattern_field),i=e.data,s=0;s<i.length;s++){for(var c="{",o=JSON.parse(i[s].data),r=0;r<o.length;r++)if(c="".concat(c,' "').concat(o[r].uid,'":'),o[r].value instanceof Object)for(var l=Object.values(o[r].value),u=0;u<l.length;u++)c=u===l.length-1?r===o.length-1?"".concat(c," ").concat(l[u],'"'):"".concat(c," ").concat(l[u],'",'):0===u?"".concat(c,' "').concat(l[u]):"".concat(c," ").concat(l[u]);else c=r===o.length-1?"".concat(c,' "').concat(o[r].value,'"'):"".concat(c,' "').concat(o[r].value,'",');c="".concat(c," }");for(var d=JSON.parse(c),h="",p=0;p<n.length;p++)h=p===n.length-1?"".concat(h," ").concat(n[p].label,": ").concat(d[n[p].cid]):"".concat(h," ").concat(n[p].label,": ").concat(d[n[p].cid]," ");i[s].debitur=h}t.data=i,t.$q.loading.hide()})).catch((function(){t.$q.loading.hide(),t.$swal({position:"center",type:"error",title:"Terjadi kesalahan, Refresh (F5)",showConfirmButton:!1,timer:1500})}))},toIDR:function(t){for(var a="".concat(t),e="",n=0,i=a.length-1;i>=0;i--)e="".concat(e).concat(a[i]),2===n&&0!==i?(e="".concat(e,","),n=0):n++;for(var s="Rp ",c=e.length-1;c>=0;c--)s="".concat(s).concat(e[c]);return s},adaAturan:function(){var t=this;this.$http.get("/api/getadaaturanpinjaman",{headers:this.$auth.getHeader()}).then((function(a){t.adaAturanExist=a.data.exist,t.adaAturanExist?t.getDataPinjaman():t.$q.loading.hide()})).catch((function(){t.$q.loading.hide()}))}},created:function(){this.$q.loading.show(),this.adaAturan()}},_=w,k=(e("9697"),Object(d["a"])(_,n,i,!1,null,"411163a0",null));a["default"]=k.exports}}]);
//# sourceMappingURL=chunk-1d2e2c5f.2233017a.js.map