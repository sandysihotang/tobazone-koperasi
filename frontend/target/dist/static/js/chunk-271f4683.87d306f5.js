(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-271f4683"],{"07ac":function(a,t,n){var e=n("23e7"),i=n("6f53").values;e({target:"Object",stat:!0},{values:function(a){return i(a)}})},"63b7":function(a,t,n){"use strict";n.r(t);var e=function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"q-pa-md"},[a.adaAturanExist?a._e():n("div",[n("q-card",{staticClass:"my-card text-white",staticStyle:{height:"100%",width:"100%",background:"radial-gradient(circle, #35a2ff 0%, #014a88 100%)"}},[n("q-card-section",[n("div",{staticClass:"text-h6",attrs:{align:"center"}},[a._v("Warning")])]),n("q-card-section",[n("div",{staticClass:"row"},[n("div",{staticClass:"col"}),n("div",{staticClass:"col"},[n("q-icon",{staticClass:"text-red",staticStyle:{"font-size":"5rem"},attrs:{name:"warning"}})],1),n("div",{staticClass:"col"})])]),n("q-card-section",{staticClass:"q-pt-none"},[n("div",{attrs:{align:"justify"}},[a._v(" Silahkan isi pengaturan Simpanan ")])])],1)],1),n("div",[n("q-table",{attrs:{dense:a.$q.screen.lt.md,title:"Daftar Aktivasi Simpanan",data:a.data,columns:a.columns,filter:a.filter},scopedSlots:a._u([{key:"top-right",fn:function(){return[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("q-btn",{attrs:{size:"xs",color:"green",label:"Pengajuan Simpanan",icon:"table"},on:{click:function(t){a.pengajuanBaru=!0}}})],1),n("div",{staticClass:"col"},[n("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Cari"},scopedSlots:a._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:a.filter,callback:function(t){a.filter=t},expression:"filter"}})],1)])]},proxy:!0}])}),n("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:a.pengajuanBaru,callback:function(t){a.pengajuanBaru=t},expression:"pengajuanBaru"}},[n("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[n("form-pengajuan-simpanan",{on:{call:a.getData}})],1)],1)],1)])},i=[],l=(n("99af"),n("07ac"),n("e25e"),n("c1df")),s=n.n(l),c=function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"q-pa-md"},[n("q-card-section",[a._v(" Pengajuan Baru ")]),n("q-card-section",[n("q-input",{attrs:{square:"",clearable:"",filled:"",label:"Nama Pemohon"},on:{input:a.showNama},model:{value:a.nama,callback:function(t){a.nama=t},expression:"nama"}}),n("br"),n("q-select",{attrs:{filled:"",options:a.options,label:"Jenis Simpanan","emit-value":"","map-options":""},on:{input:a.setAturan},model:{value:a.select,callback:function(t){a.select=t},expression:"select"}}),n("br"),n("q-input",{attrs:{filled:"",mask:"date",label:"Tanggal Mulai",rules:["date"]},scopedSlots:a._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[n("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[n("q-date",{on:{input:function(){return a.$refs.qDateProxy.hide()}},model:{value:a.date,callback:function(t){a.date=t},expression:"date"}})],1)],1)]},proxy:!0}]),model:{value:a.date,callback:function(t){a.date=t},expression:"date"}}),n("br"),n("q-input",{attrs:{square:"",clearable:"",type:"text",label:"Jumlah Simpanan",mask:"Rp #,###,###,###","fill-mask":"0","reverse-fill-mask":"","unmasked-value":"","input-class":"text-right"},scopedSlots:a._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"money"}})]},proxy:!0}]),model:{value:a.jumlahSimpanan,callback:function(t){a.jumlahSimpanan=t},expression:"jumlahSimpanan"}}),n("br"),n("center",[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"red",label:"Tutup"}}),a._v(" "),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:"Ajukan"},on:{click:a.ajukan}})],1)],1),n("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:a.namaPengaju,callback:function(t){a.namaPengaju=t},expression:"namaPengaju"}},[n("q-card",[n("q-card-section",[n("q-table",{attrs:{dense:a.$q.screen.lt.md,title:"Daftar Nama Anggota",data:a.data,columns:a.columns,"row-key":"id",selection:"single",selected:a.selected,filter:a.filter},on:{"update:selected":function(t){a.selected=t}},scopedSlots:a._u([{key:"top-right",fn:function(){return[n("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Cari"},scopedSlots:a._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:a.filter,callback:function(t){a.filter=t},expression:"filter"}})]},proxy:!0}])})],1),n("q-card-section",[n("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Tutup"},on:{click:a.deleteName}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Pilih",disable:0===a.selected.length},on:{click:a.setNama}})],1)],1)],1)],1)],1)},o=[],r=(n("b0c0"),{data:function(){return{closeUp:!1,nama:null,namaPengaju:!1,filter:"",data:[],columns:[],selected:[],select:null,options:[{label:"Simpanan Pokok",value:1},{label:"Simpanan Wajib",value:2},{label:"Simpanan Sukarela",value:3}],date:null,maxSimpanan:null,aturan:[],jumlahSimpanan:null}},methods:{call:function(){this.$emit("call")},ajukan:function(){var a=this;null!==this.select&&null!==this.date&&null!==this.jumlahSimpanan&&0!==this.selected.length?(this.$q.loading.show(),this.$http.post("/api/aktivasisimpanan/".concat(this.selected[0].id,"/").concat(this.select),{date:this.date,jumlahSimpanan:this.jumlahSimpanan},{headers:this.$auth.getHeader()}).then((function(t){400===t.data.errCode?(a.$q.notify({type:"negative",message:"Pengajuan aktivasi dengan user yang sama sudah pernah dilakukan"}),a.$q.loading.hide()):(a.$emit("call"),a.$q.notify({type:"positive",message:"Pengajuan Berhasil Dilakukan"}),a.select=null,a.selected=[],a.jumlahSimpanan=null,a.nama=null)})).catch((function(){a.$q.loading.hide()}))):this.$q.notify({type:"negative",message:"Isi Semua field"})},res:function(){parseInt(this.jumlahSimpanan)<parseInt(this.maxSimpanan)&&(this.jumlahSimpanan=parseInt(this.maxSimpanan))},setAturan:function(){for(var a=0;a<this.aturan.length;a++)if(this.aturan[a].jenis_simpanan===this.select)return this.maxSimpanan=this.aturan[a].minimal_simpanan,void(this.jumlahSimpanan=this.maxSimpanan)},setNama:function(){this.nama="".concat(this.selected[0][this.columns[0].name])},deleteName:function(){this.nama=null},showNama:function(){this.namaPengaju=!0,this.loadData()},loadData:function(){var a=this;this.$q.loading.show(),this.$http.get("/api/getdatapengajusimpanan",{headers:this.$auth.getHeader()}).then((function(t){var n=t.data,e=JSON.parse(n.pengaturan);a.columns=[];for(var i=0;i<e.length;i++)a.columns.push({name:e[i].cid,label:e[i].label,align:"center",field:e[i].cid,sortable:!0});a.data=[];for(var l=n.anggota,s=0;s<l.length;s++){for(var c='{"id" : '.concat(l[s].id,","),o=JSON.parse(l[s].data),r=0;r<o.length;r++)if(c="".concat(c,' "').concat(o[r].uid,'":'),o[r].value instanceof Object)for(var u=Object.values(o[r].value),d=0;d<u.length;d++)c=d===u.length-1?r===o.length-1?"".concat(c," ").concat(u[d],'"'):"".concat(c," ").concat(u[d],'",'):0===d?"".concat(c,' "').concat(u[d]):"".concat(c," ").concat(u[d]);else c=r===o.length-1?"".concat(c,' "').concat(o[r].value,'"'):"".concat(c,' "').concat(o[r].value,'",');c="".concat(c," }");var p=JSON.parse(c);a.data.push(p)}a.$q.loading.hide()})).catch((function(){a.$q.loading.hide()}))},getAturan:function(){var a=this;this.$http.get("/api/getaturansimpanan",{headers:this.$auth.getHeader()}).then((function(t){a.aturan=t.data}))}},created:function(){this.getAturan()}}),u=r,d=n("2877"),p=Object(d["a"])(u,c,o,!1,null,"53c638ae",null),h=p.exports,m={components:{FormPengajuanSimpanan:h},data:function(){var a=this;return{adaAturanExist:!1,filter:"",pengajuanBaru:!1,data:[],columns:[{name:"status",label:"Status",align:"center",field:function(a){return a.aktif?"Aktif":"Tidak Aktif"},sortable:!0},{name:"debitur",label:"Debitur",align:"center",field:function(a){return a.debitur},sortable:!0},{name:"produksimpanan",label:"Produk Simpanan",align:"center",field:function(a){return 1===a.jenis_simpanan?"Simpanan Pokok":2===a.jenis_simpanan?"Simpanan Wajib":"Simpanan Sukarela"},sortable:!0},{name:"jumlahsetoran",label:"Jumlah Setoran",align:"center",field:function(t){return a.toIDR(parseInt(t.total_simpanan))},sortable:!0},{name:"tanggalmulai",label:"Tanggal Mulai",align:"center",field:function(a){return s.a.lang("id"),s()(a.tanggal_mulai).format("dddd, Do MMMM YYYY")},sortable:!0},{name:"tanggalaktivasi",label:"Tanggal Aktivasi",align:"center",field:function(a){return s.a.lang("id"),s()(a.created_at).format("dddd, Do MMMM YYYY")},sortable:!0}]}},methods:{toIDR:function(a){for(var t="".concat(a),n="",e=0,i=t.length-1;i>=0;i--)n="".concat(n).concat(t[i]),2===e&&0!==i?(n="".concat(n,","),e=0):e++;for(var l="Rp ",s=n.length-1;s>=0;s--)l="".concat(l).concat(n[s]);return l},getData:function(){var a=this;this.$http.get("/api/getanggotasimpananaktivasi",{headers:this.$auth.getHeader()}).then((function(t){for(var n=t.data,e=JSON.parse(n.aturan.pattern_field),i=n.data,l=0;l<i.length;l++){for(var s="{",c=JSON.parse(i[l].data),o=0;o<c.length;o++)if(s="".concat(s,' "').concat(c[o].uid,'":'),c[o].value instanceof Object)for(var r=Object.values(c[o].value),u=0;u<r.length;u++)s=u===r.length-1?o===c.length-1?"".concat(s," ").concat(r[u],'"'):"".concat(s," ").concat(r[u],'",'):0===u?"".concat(s,' "').concat(r[u]):"".concat(s," ").concat(r[u]);else s=o===c.length-1?"".concat(s,' "').concat(c[o].value,'"'):"".concat(s,' "').concat(c[o].value,'",');s="".concat(s," }");for(var d=JSON.parse(s),p="",h=0;h<e.length;h++)p=h===e.length-1?"".concat(p," ").concat(e[h].label,": ").concat(d[e[h].cid]):"".concat(p," ").concat(e[h].label,": ").concat(d[e[h].cid]," ");i[l].debitur=p}a.data=i,a.$q.loading.hide()})).catch((function(){a.$q.loading.hide()}))},adaAturan:function(){var a=this;this.$http.get("/api/getadaaturansimpanan",{headers:this.$auth.getHeader()}).then((function(t){a.adaAturanExist=t.data.exist,!0===a.adaAturanExist?a.getData():a.$q.loading.hide()})).catch((function(){a.$q.loading.hide()}))}},created:function(){this.$q.loading.show(),this.adaAturan()}},f=m,g=(n("9d75"),Object(d["a"])(f,e,i,!1,null,"9fb65b7a",null));t["default"]=g.exports},"6f53":function(a,t,n){var e=n("83ab"),i=n("df75"),l=n("fc6a"),s=n("d1e7").f,c=function(a){return function(t){var n,c=l(t),o=i(c),r=o.length,u=0,d=[];while(r>u)n=o[u++],e&&!s.call(c,n)||d.push(a?[n,c[n]]:c[n]);return d}};a.exports={entries:c(!0),values:c(!1)}},"9d75":function(a,t,n){"use strict";var e=n("f5cd"),i=n.n(e);i.a},f5cd:function(a,t,n){}}]);
//# sourceMappingURL=chunk-271f4683.87d306f5.js.map